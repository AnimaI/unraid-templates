<?xml version="1.0"?>
<Container version="2">
  <Name>public-pool</Name>
  <Repository>anima1/public-pool</Repository>
  <Registry>https://github.com/AnimaI/public-pool</Registry>
  <Network>br0</Network>
  <MyIP/>
  <Shell>bash</Shell>
  <Privileged>false</Privileged>
  <Support>https://github.com/AnimaI/unraid-templates/issues</Support>
  <Project>https://github.com/AnimaI/public-pool</Project>
  <Overview>Run your own solo mining pool with web UI using public-pool & public-pool-ui. This Unraid template supports custom IP, ports, and direct Bitcoin node integration.</Overview>
  <Category>Tools:Network:Crypto</Category>
  <WebUI>http://[IP]:[PORT:3000]</WebUI>
  <Icon>https://raw.githubusercontent.com/AnimaI/unraid-templates/master/public-pool/icon.png</Icon>
  
  <!-- Networking -->
  <Networking>
    <Mode>br0</Mode>
    <Publish>
      <Port>
        <HostPort>19000</HostPort>
        <ContainerPort>19000</ContainerPort>
        <Protocol>tcp</Protocol>
      </Port>
      <Port>
        <HostPort>3334</HostPort>
        <ContainerPort>3334</ContainerPort>
        <Protocol>tcp</Protocol>
      </Port>
      <Port>
        <HostPort>3000</HostPort>
        <ContainerPort>80</ContainerPort>
        <Protocol>tcp</Protocol>
      </Port>
    </Publish>
  </Networking>

  <!-- Volumes -->
  <Data>
    <Volume>
      <HostDir>/mnt/user/appdata/public-pool</HostDir>
      <ContainerDir>/app/data</ContainerDir>
      <Mode>rw</Mode>
    </Volume>
  </Data>

  <!-- Environment Variables -->
  <Config Name="Bitcoin RPC URL" Target="BITCOIN_RPC_URL" Default="http://192.168.1.100" Mode="text" Description="URL deiner Bitcoin Node (z.B. http://192.168.1.100)" Type="Variable" Display="always" Required="true" Mask="false">http://192.168.1.100</Config>
  <Config Name="Bitcoin RPC User" Target="BITCOIN_RPC_USER" Default="rpcuser" Mode="text" Description="Benutzername aus deiner bitcoin.conf" Type="Variable" Display="always" Required="true" Mask="false">rpcuser</Config>
  <Config Name="Bitcoin RPC Password" Target="BITCOIN_RPC_PASSWORD" Default="rpcpassword" Mode="text" Description="Passwort aus deiner bitcoin.conf" Type="Variable" Display="always" Required="true" Mask="true">rpcpassword</Config>
  <Config Name="Bitcoin RPC Port" Target="BITCOIN_RPC_PORT" Default="8332" Mode="text" Description="RPC-Port deiner Bitcoin Node (Standard: 8332)" Type="Variable" Display="always" Required="true" Mask="false">8332</Config>
  <Config Name="Bitcoin ZMQ Host" Target="BITCOIN_ZMQ_HOST" Default="tcp://192.168.1.100:28334" Mode="text" Description="ZMQ-Adresse deiner Bitcoin Node (z.B. tcp://192.168.1.100:28334)" Type="Variable" Display="always" Required="true" Mask="false">tcp://192.168.1.100:28334</Config>
  <Config Name="Bitcoin RPC Timeout" Target="BITCOIN_RPC_TIMEOUT" Default="10000" Mode="text" Description="RPC Timeout in Millisekunden (Standard: 10000)" Type="Variable" Display="advanced" Required="false" Mask="false">10000</Config>
  <Config Name="Pool API Port" Target="API_PORT" Default="3334" Mode="text" Description="Port für die Pool-API (Standard: 3334)" Type="Variable" Display="always" Required="true" Mask="false">3334</Config>
  <Config Name="Stratum Port" Target="STRATUM_PORT" Default="19000" Mode="text" Description="Port für den Stratum-Server (Standard: 19000)" Type="Variable" Display="always" Required="true" Mask="false">19000</Config>
  <Config Name="Web UI Port" Target="UI_PORT" Default="3000" Mode="text" Description="Port für das Webinterface (Standard: 3000)" Type="Variable" Display="always" Required="true" Mask="false">3000</Config>
  <Config Name="Pool Identifier" Target="POOL_IDENTIFIER" Default="Unraid-Pool" Mode="text" Description="Bezeichner für deinen Pool (z.B. Heim-Pool)" Type="Variable" Display="advanced" Required="false" Mask="false">Unraid-Pool</Config>
  <Config Name="Netzwerk" Target="NETWORK" Default="mainnet" Mode="text" Description="mainnet oder testnet" Type="Variable" Display="always" Required="true" Mask="false">mainnet</Config>
  <Config Name="HTTPS für API" Target="API_SECURE" Default="false" Mode="text" Description="API über HTTPS bereitstellen? true/false" Type="Variable" Display="advanced" Required="false" Mask="false">false</Config>
</Container>
